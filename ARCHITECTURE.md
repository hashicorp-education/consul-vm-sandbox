
# ARCHITECTURE

┌──────────────────────────────────────────────────────────────────────────────┐
│    Consul Datacenter DC1                                                     │
│                                                                              │
│ ┌──────────────────────────────┐    ┌──────────────────────────────────────┐ │
│ │ SERVERS                      │    │ ┌─────────────────────────┐  CLIENTS │ │
│ │                              │    │ │                         │          │ │
│ │                              │    │ │   hashicups-nginx-0     │          │ │
│ │                              │    │ │                         │          │ │
│ │ ┌───────────────────┐        │    │ └────┬────────────┬───────┘          │ │
│ │ │                   │        │    │      │            │                  │ │
│ │ │  consul-server-0  │        │    │      │            │                  │ │
│ │ │                   │        │    │      │   ┌────────▼────────────────┐ │ │
│ │ └─▲─────────────────┘        │    │      │   │                         │ │ │
│ │   │                          │    │      │   │   hashicups-frontend-0  │ │ │
│ │   │  ┌───────────────────┐   │    │      │   │                         │ │ │
│ │   │  │                   │   │    │      │   └─────────────────────────┘ │ │
│ │   ┼──►  consul-server-1  │   │    │      │                               │ │
│ │   │  │                   │   │    │      │                               │ │
│ │   │  └───────────────────┘   │    │ ┌────▼────────────────────┐          │ │
│ │   │                          │    │ │                         │          │ │
│ │ ┌─▼─────────────────┐        │    │ │   hashicups-api-0       │          │ │
│ │ │                   │        │    │ │                         │          │ │
│ │ │  consul-server-2  │        │    │ └────────────┬────────────┘          │ │
│ │ │                   │        │    │              │                       │ │
│ │ └───────────────────┘        │    │              │                       │ │
│ │                              │    │ ┌────────────▼────────────┐          │ │
│ │                              │    │ │                         │          │ │
│ │                              │    │ │   hashicups-db-0        │          │ │
│ │                              │    │ │                         │          │ │
│ │                              │    │ └─────────────────────────┘          │ │
│ └──────────────────────────────┘    └──────────────────────────────────────┘ │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                                                                  
                                                                                  
                       ┌─────────────────────┐                               
                       │                     │                               
                       │    Bastion  Host    │                               
                       │                     │                               
                       └─────────────────────┘                               